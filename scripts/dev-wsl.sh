#!/bin/bash
# WSL2уњ░тбЃсЂДNext.jsсѓњУхитІЋсЂЌсђЂсЃќсЃЕсѓдсѓХсЂДжќІсЂЈсЂЪсѓЂсЂ«сѓ╣сѓ»сЃфсЃЌсЃѕ

# УЅ▓С╗ўсЂЇтЄ║тіЏсЂ«сЂЪсѓЂсЂ«т«џуЙЕ
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

# WSLсЂ«IPсѓбсЃЅсЃгсѓ╣сѓњтЈќтЙЌ
WSL_IP=$(hostname -I | awk '{print $1}')

echo -e "${GREEN}­Ъџђ WSL2уњ░тбЃсЂДNext.jsжќІуЎ║сѓхсЃ╝сЃљсЃ╝сѓњУхитІЋсЂЌсЂЙсЂЎ${NC}"
echo -e "${YELLOW}­ЪЊЇ WSL IPсѓбсЃЅсЃгсѓ╣: $WSL_IP${NC}"
echo -e "${YELLOW}­Ъїљ сѓбсѓ»сѓ╗сѓ╣URL: http://$WSL_IP:3000${NC}"
echo ""

# WindowsсЂ«сЃќсЃЕсѓдсѓХсЂДУЄфтІЋуџёсЂФжќІсЂЈ
echo -e "${GREEN}­Ъїљ сЃќсЃЕсѓдсѓХсѓњжќІсЂёсЂдсЂёсЂЙсЂЎ...${NC}"
cmd.exe /c start http://$WSL_IP:3000 2>/dev/null &

echo ""
echo -e "${GREEN}­ЪЊЮ жќІуЎ║сѓхсЃ╝сЃљсЃ╝сѓњУхитІЋСИГ...${NC}"
echo "ухѓС║єсЂЎсѓІсЂФсЂ» Ctrl+C сѓњТі╝сЂЌсЂдсЂЈсЂасЂЋсЂё"
echo ""

# жќІуЎ║сѓхсЃ╝сЃљсЃ╝сѓњУхитІЋ
npm run dev:wsl